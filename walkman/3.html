<!DOCTYPE html>

<html>

<body>
  <canvas id="canvas" width="960" height="600" style="background-color:#DEDEDE"></canvas>
</body>
<!--
  Có 2 vấn đề: nhìn chưa thật, người đi mà như đứng yên một chỗ
  Cây phải ấn 2 lần mới hiển thị
-->
<script>
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");
  let man = new Image();
  man.src = "walkmanSprite.png";

  let tree = new Image();
  tree.src = "tree.png"

  let i = 0;
  man.onload = () => {
    setInterval(animate, 100);
    ctx.drawImage(tree, 520, 40);
  }

  let x = 300, y = 320, width = 193, height = 364;
  function animate() {
    ctx.clearRect(x, y, width, height);
    ctx.drawImage(man, i * width, 0, width, height, x, y, 120, 226);
    i += 1;
    if (i == 6) {
      i = 0;
    }
  }

</script>

</html>